<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  	<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
    Measures of forecast accuracy &middot; 
    
  </title>

  <!-- CSS, to change font you also need to update font family in public/css/hyde.css-->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <!--<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">-->
  <!--<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">-->
  <link rel="stylesheet" href="//code.cdn.mozilla.net/fonts/fira.css">  
  <link rel="stylesheet" href="/academicons.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" >
  
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60189402-1', 'auto');
  ga('send', 'pageview');

</script>


  <body class="theme-base-0b">

    <div class="sidebar">
	<div class="container sidebar-sticky">
<!--<div class="container">-->
    <div class="sidebar-about">
      <h1>
        <a href="/">
          
        </a>
      </h1>
      <!--<p class="lead"><a href="https://scholar.google.ca/citations?user=gSawS7EAAAAJ&hl=en" target="_blank">Google Scholar</a>, <a href="https://twitter.com/syfi_24" target="_blank">@kathryn_tm</a>, <a href="https://github.com/kathryntmorrison">Github</a>, <a href="mailto:morrison.kathrynt@gmail.com">email</a></p>-->

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/CV/">Curriculum Vitae</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">Archive</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/pubs/">Publications</a>
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/resources/">Resources</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/software/">Software</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/tags/">Tags</a>
          
        
      
        
          
        
      

      
      <!--<a class="sidebar-nav-item" href="/archive/v2.1.0.zip">Download</a>
      <a class="sidebar-nav-item" href="">GitHub project</a>
      <span class="sidebar-nav-item">Currently v2.1.0</span>-->
    </nav>


    
    <a href="https://scholar.google.ca/citations?user=gSawS7EAAAAJ&hl=en">
      <span class="fa-stack fa-lg">
        <i class="fa fa-square-o fa-stack-2x"></i>
        <i class="ai ai-google-scholar fa-stack-1x"></i>
      </span>
    </a>
    


    <!---->

    
      <a href="https://github.com/kathryntmorrison">
        <span class="fa-stack fa-lg">
          <i class="fa fa-square-o fa-stack-2x"></i>
          <i class="fa fa-github-alt fa-stack-1x"></i>
        </span>
      </a>
    

    
      <a href="https://twitter.com/kathryn_tm">
        <span class="fa-stack fa-lg">
          <i class="fa fa-square-o fa-stack-2x"></i>
          <i class="fa fa-twitter fa-stack-1x"></i>
        </span>
      </a>
    

   <!--
      <a href="mailto:morrison.kathrynt@gmail.com">
        <span class="fa-stack fa-lg">
          <i class="fa fa-square-o fa-stack-2x"></i>
          <i class="fa fa-envelope fa-stack-1x"></i>
        </span>
      </a>
    -->

    </div>
	 <br>
    <p>&copy; <font size="1"> Kathryn Morrison </font>
  <br>
   <font size="1"> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"> 
  Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>. </font> 
  </p>
	</div>
</div>

<!--<div class="footer">
        <hr>
        <p>&copy; Hadley Wickham. Powered by <a href="http://jekyllrb.com/">jekyll</a>,
          <a href="http://yihui.name/knitr/">knitr</a>, and
          <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>. Source
          available on <a href="https://github.com/hadley/adv-r/">github</a>.
        </p>
      </div>
-->


    <div class="content container">
      	<script>
  // TogetherJS configuration would go here, but we'll talk about that
  // later
</script>
<script src="https://togetherjs.com/togetherjs-min.js"></script>


<div class="post">
  <h1 class="post-title">Measures of forecast accuracy</h1>
  <span class="post-date">05 May 2016</span>
  <p>Test 
There are a number of ways to summarize forecast accuracy across a forecast horizon, but I’ve come to realize recently how unclear it is which measure to use in which situation - and how non-standardized it is.</p>

<p>Sometimes we have data with different units, sometimes we have data with the same units but hugely different scales, sometimes outliers, and so on. We often want a measure that isn’t hugely sensitive to outliers and is scale-independent (relative). But, if we have data with many zeros, many relative measures can be problematic.</p>

<!--more-->

<p>There seem to really be two primary types of forecast accuracy metrics:</p>

<ol>
  <li>
    <p>Comparison between the true observed value <script type="math/tex">y_t</script> and the predicted value <script type="math/tex">\hat{y_t}</script>, based on the error e.g., <script type="math/tex">e_t = y_t - \hat{y_t}</script></p>
  </li>
  <li>
    <p>Comparison between the accuracy of a proposed method (<script type="math/tex">e_t</script> from above) and a baseline method, often a naive forecast such as the last available data point (random walk), or possibly adjusting for seasonal trends only.</p>
  </li>
</ol>

<p>The second option provides more flexibility but also potentially complicates comparisons between multiple proposed models, and is less interpretable than say a percentage error.</p>

<p>The most commonly used metrics that fit into type (1) above are: <br /></p>

<table>
  <thead>
    <tr>
      <th>Measure</th>
      <th>Formula (for Mean)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Mean (Median) absolute error, M(d)AE</td>
      <td><script type="math/tex">\frac{1}{n}\sum | e_t|</script></td>
    </tr>
    <tr>
      <td>Mean (Median) squared error, M(d)SE</td>
      <td><script type="math/tex">\frac{1}{n} \sum e_t^2</script></td>
    </tr>
    <tr>
      <td>Root Mean (Median) squared error, M(d)SE</td>
      <td><script type="math/tex">\sqrt{ \frac{1}{n} \sum e_t^2}</script></td>
    </tr>
    <tr>
      <td>Mean (Median) absolute percentage error, M(d)APE</td>
      <td><script type="math/tex">\frac{1}{n} \sum | \frac{e_t} {y_t}|</script></td>
    </tr>
    <tr>
      <td>Symmetric Mean (Median) absolute percentage error, SM(d)APE</td>
      <td><script type="math/tex">\frac{1}{n} \sum \frac{| e_t|} { |y_t| + |\hat{y_t}|}</script></td>
    </tr>
  </tbody>
</table>

<p>(I excluded the metrics based purely on ranking). <br />
<br />
<br /></p>

<table>
  <thead>
    <tr>
      <th>Measure</th>
      <th>Robustness to outliers</th>
      <th>Ability to address zeros</th>
      <th>Comparisons across different scales</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>M(d)AE</td>
      <td>Stable</td>
      <td>Defined <script type="math/tex">y_t \in R</script></td>
      <td>Scale/unit dependent</td>
    </tr>
    <tr>
      <td>M(d)SE</td>
      <td>Sensitive</td>
      <td>Defined <script type="math/tex">y_t \in R</script></td>
      <td>Scale/unit dependent</td>
    </tr>
    <tr>
      <td>RM(d)SE</td>
      <td>Sensitive</td>
      <td>Defined <script type="math/tex">y_t \in R</script></td>
      <td>Scale/unit dependent</td>
    </tr>
    <tr>
      <td>M(d)APE</td>
      <td>Stable</td>
      <td>Undefined if <script type="math/tex">y = 0</script></td>
      <td>Relative measure (%)</td>
    </tr>
    <tr>
      <td>SM(d)APE</td>
      <td>Stable</td>
      <td>Undefined if <script type="math/tex">y = \hat{y}</script></td>
      <td>Relative measure (%)</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<p>It’s both interesting and frustrating that there are no standard best practices. In fact, inappropriate metrics have been frequently used even in large prediction competitions!<script type="math/tex">^1</script>.</p>

<p>In my dissertation, I have Poisson count data at different scales, sometimes different units, with outliers, and with zero-inflation. I am struggling to find the best metric! I will likely end up using a ratio of mean absolute error between two methods since I am comparing (i) multivariate models to univariate, and (ii) temporal models to spatio-temporal. Ideally though, I would prefer to find a more interpretable measure. I am wondering if I can standardize something similar to MAPE, but using an average across the forecast horizon as the denominator, rather than the original value. I imagine something like this:</p>

<p>Horizon-standardized MAPE <script type="math/tex">= \frac{1}{n} \sum_{i=1}^n \frac{\|y_i - \hat{y_i}\| }{ \frac{1}{n} \sum_{i=1}^n y_i }</script> <br /></p>

<p>This denominator would not be zero except in degenerate cases, would be consistent across different models (whereas the window may change), and this would standardize each absolute measure of accuracy by the expected value across the horizon. This definitely has some interpretation limitations but I’m going to continue to think about it and maybe look at some really simple simulation studies.</p>

<p>To be continued…</p>

<p><br />
<br />
<br /></p>

<hr />

<p><script type="math/tex">^1</script> Hyndman, Rob J., and Anne B. Koehler. “Another look at measures of forecast accuracy.” <em>International Journal of Forecasting</em> 22.4 (2006): 679-688.</p>

If you have any questions or comments, please post them below. <!--If you liked this post, you can
<a href="https://twitter.com/intent/tweet?url=https://kathryntmorrison.github.io//forecastaccuracy&text=Measures of forecast accuracy&via=syfi_24" 
   target="_blank">
  share it with your followers</a> 
or 
<a href="https://twitter.com/kathryn_tm">
  follow me on Twitter</a>!-->

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/money_code">
            My code for financial summaries in R
            <small>13 Jan 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/new_Rstudio">
            New version of R Studio
            <small>09 Jan 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/R_money">
            Managing my money using R
            <small>07 Jan 2017</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>




 	
  <!-- Add Disqus comments. -->
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'kathryntmorrison'; // required: replace example with your forum shortname
    var disqus_identifier = "/forecastaccuracy";

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>




    </div>

  </body>
</html>
